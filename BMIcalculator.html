<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>BMI計算機</title>
		<link
			rel="stylesheet"
			href="css/BMIcalculator.css"
		/>
	</head>
	<body>
		<section class="container">
			<div class="person-info">
				<label for=""
					>身高:
					<input
						type="number"
						placeholder="請輸入身高"
						max="250"
						min="50"
						class="person-info-height"
					/>
					cm
				</label>
				<label for=""
					>體重:
					<input
						type="number"
						placeholder="請輸入體重"
						max="250"
						min="5"
						class="person-info-weight"
					/>
					kg
				</label>
				<div class="all-btn">
					<button class="btn btn-submit">計算</button>
					<button class="btn btn-reset">清除</button>
				</div>
			</div>
			<div class="all-bmi">
				<div class="bmi-interger">您的BMI是：</div>
				<div class="bmi-notice">提醒:</div>
			</div>
			<script>
				var btnSubmit = document.querySelector(".btn-submit");
				var btnReset = document.querySelector(".btn-reset");
				var bmiInterger = document.querySelector(".bmi-interger");
				var bmiNotice = document.querySelector(".bmi-notice");
				var personHeight = document.querySelector(".person-info-height");
				var personWeight = document.querySelector(".person-info-weight");
				function bmi() {
					var BmiHeight = personHeight.value / 100;
					var BmiWeight = personWeight.value;
					if (BmiWeight <= 0 || BmiHeight <= 0) {
						return "負數";
					} else {
						return (BmiWeight / (BmiHeight * BmiHeight)).toFixed(2);
					}
				}

				btnSubmit.addEventListener("click", () => {
					var calcBmi = bmi();
					if (calcBmi === "負數") {
						personHeight.value = "";
						personWeight.value = "";
						bmiInterger.textContent = "您的BMI是";
						bmiNotice.innerHTML = "提醒:";
						bmiNotice.classList.remove("bmi-notice-light");
						bmiNotice.classList.remove("bmi-notice-fat");
						bmiNotice.classList.remove("bmi-notice-normal");
						alert("身高或是體重不能為負數或是0");
					} else {
						if (calcBmi < 18.5) {
							bmiInterger.textContent = "您的BMI是" + bmi();
							bmiNotice.innerHTML = "提醒:過輕";
							bmiNotice.classList.remove("bmi-notice-fat");
							bmiNotice.classList.remove("bmi-notice-normal");
							bmiNotice.classList.add("bmi-notice-light");
						} else if (18.5 <= calcBmi && calcBmi < 24) {
							bmiInterger.textContent = "您的BMI是" + bmi();
							bmiNotice.innerHTML = "提醒:正常範圍";
							bmiNotice.classList.remove("bmi-notice-light");
							bmiNotice.classList.remove("bmi-notice-fat");
							bmiNotice.classList.add("bmi-notice-normal");
						} else if (24 <= calcBmi && calcBmi < 27) {
							bmiInterger.textContent = "您的BMI是" + bmi();
							bmiNotice.innerHTML = "提醒:過重";
							bmiNotice.classList.remove("bmi-notice-light");
							bmiNotice.classList.remove("bmi-notice-fat");
							bmiNotice.classList.add("bmi-notice-normal");
						} else if (27 <= calcBmi && calcBmi < 30) {
							bmiInterger.textContent = "您的BMI是" + bmi();
							bmiNotice.innerHTML = "提醒:輕度肥胖";
							bmiNotice.classList.remove("bmi-notice-light");
							bmiNotice.classList.remove("bmi-notice-normal");
							bmiNotice.classList.add("bmi-notice-fat");
						} else if (30 <= calcBmi && calcBmi < 35) {
							bmiInterger.textContent = "您的BMI是" + bmi();
							bmiNotice.innerHTML = "提醒：中度肥胖";
							bmiNotice.classList.remove("bmi-notice-light");
							bmiNotice.classList.remove("bmi-notice-normal");
							bmiNotice.classList.add("bmi-notice-fat");
						} else if (calcBmi >= 35) {
							bmiInterger.textContent = "您的BMI是" + bmi();
							bmiNotice.innerHTML = "提醒:重度肥胖";
							bmiNotice.classList.remove("bmi-notice-light");
							bmiNotice.classList.remove("bmi-notice-normal");
							bmiNotice.classList.add("bmi-notice-fat");
						}
					}
				});
				btnReset.addEventListener("click", () => {
					personHeight.value = "";
					personWeight.value = "";
					alert("已為您清除相關資訊！");
				});
			</script>
		</section>
	</body>
</html>
